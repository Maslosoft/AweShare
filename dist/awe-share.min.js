(function(){var a,b,c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;this.Maslosoft||(this.Maslosoft={}),a=function(a){return console?console.assert(a):void 0},d=function(a){return console?console.log(expx):void 0},this.Maslosoft.AweShare=function(){function a(b,c){var d,f,g,h,i,j,k,l;if(null==c&&(c=null),this.share=e(this.share,this),this.adapters={},this.windows={},this.element={},a.idCounter++,this.element=jQuery(b),this.element.attr("id")||this.element.attr("id","maslosoft-awe-share-"+a.idCounter),null===c&&(c=this.element.data()),h=new Maslosoft.AweShare.Meta,"string"==typeof c.services&&(c.services=c.services.replace(/\s*/g,"").split(",")),"undefined"==typeof c.services&&(c.services=[]),c.url||(c.url=""),c.title||(c.title=document.title),c.description||(c.description=h.getName("description")),c.image||(c.image=h.getProperty("og:image")),void 0===c.counter&&(c.counter=!0),void 0===c.counterEmpty&&(c.counterEmpty=""),void 0===c.tip&&(c.tip=!1),!c.services.length){j=Maslosoft.AweShare.Adapters;for(i in j)d=j[i],c.services.push(this.decamelize(i))}this.adapters={},k=c.services;for(g in k)i=k[g],f=this.camelize(i),"function"==typeof Maslosoft.AweShare.Adapters[f]?(d=new Maslosoft.AweShare.Adapters[f],d.setUrl(c.url),l=new Maslosoft.AweShare.Window(c),this.adapters[i]=d,this.windows[i]=l):(console.warn("No adapter for "+i+" in ",b,(new Error).stack),c.services.splice(g,1));0===this.adapters.length&&console.warn("No adapters selected for ",b,(new Error).stack),this.element.on("click","a",this.share),new Maslosoft.AweShare.Renderer(this,c,this.adapters)}return a.idCounter=0,a.prototype.element="",a.prototype.adapters={},a.prototype.windows={},a.prototype.share=function(a){var b,c,d,e,f;return d=jQuery(a.currentTarget).data(),e=d.service,b=this.adapters[e],f=this.windows[e],c=!1,b.url||(b.url=document.location,c=!0),b.decorate(f),f.open(),c&&(b.url=""),a.preventDefault()},a.prototype.decamelize=function(a,b){return null==b&&(b="-"),a.replace(/([a-z\d])([A-Z])/g,"$1"+b+"$2").replace(new RegExp("("+b+"[A-Z])([A-Z])","g"),"$1"+b+"$2").toLowerCase()},a.prototype.camelize=function(a){return a.replace(/(?:^|[-_])(\w)/g,function(a,b){return b?b.toUpperCase():""})},a.init=function(){return jQuery(".awe-share").each(function(a,b){return new window.Maslosoft.AweShare(b)})},a}(),this.Maslosoft.AweShare.Adapters={},this.Maslosoft.AweShare.Adapter=function(){function a(){}return a.prototype.id=null,a.prototype.url="",a.prototype.image="",a.prototype.count=function(a){return a(0)},a.prototype.decorate=function(a){return a.url="#not implemented"},a.prototype.setId=function(a){this.id=a},a.prototype.getId=function(){return this.id},a.prototype.setImage=function(a){this.image=a},a.prototype.setUrl=function(a){return a=a.toString(),a.indexOf("#")?this.url=a.split("#")[0]:this.url=a},a}(),c={},b={},this.Maslosoft.AweShare.Counter=function(){function a(a,b,c){this.name=a,this.setCount=e(this.setCount,this),this.count=e(this.count,this),this.adapter={},this.callback={},this.adapter=b,this.callback=c}return a.prototype.adapter={},a.prototype.name="",a.prototype.callback={},a.prototype.count=function(){return c[this.name]&&"number"==typeof c[this.name][this.adapter.url]?this.callback(this.name,c[this.name][this.adapter.url]):(c[this.name]||(c[this.name]={}),b[this.name]||(b[this.name]={}),b[this.name][this.adapter.url]?b[this.name][this.adapter.url].push(this.callback):(this.adapter.count(this.setCount),b[this.name][this.adapter.url]=[]))},a.prototype.setCount=function(a){var d,e,f,g,h;if(c[this.name][this.adapter.url]=parseInt(a),this.callback(this.name,parseInt(a)),b[this.name]&&b[this.name][this.adapter.url]){for(g=b[this.name][this.adapter.url],h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(d(this.name,parseInt(a)));return h}},a}(),this.Maslosoft.AweShare.Meta=function(){function a(){}return a.prototype.getName=function(a){return this.get("name",a)},a.prototype.getProperty=function(a){return this.get("property",a)},a.prototype.get=function(a,b){var c,d,e,f,g;for(g=document.getElementsByTagName("meta"),d=0,e=g.length;e>d;d++)if(f=g[d],c=null,f&&(c=f.getAttribute(a)),c&&c.toLowerCase()===b.toLowerCase())return f.getAttribute("content");return""},a}(),this.Maslosoft.AweShare.Renderer=function(){function a(a,b,c){this.setCounter=e(this.setCounter,this),this.onScroll=e(this.onScroll,this);var d,f,g,h,i,j;this.sharer={},this.adapters={},this.data={},this.sharer=a,this.data=b,this.adapters=c,this.empty=this.data.counterEmpty,this.window=jQuery(window),this.sharer.element.html(""),"number"==typeof this.data.pin&&(this.data.pinTop=this.data.pin),"undefined"==typeof this.data.pinScroll&&(this.data.pinScroll=this.data.pinTop),this.data.pinTop&&(this.sharer.element.addClass("awe-share-pin"),this.data.pinPosition&&"left"!==this.data.pinPosition||this.sharer.element.addClass("awe-share-pin-left"),"right"===this.data.pinPosition&&this.sharer.element.addClass("awe-share-pin-right"),this.onScroll(),this.data.pinScroll!==this.data.pinTop&&jQuery(window).scroll(this.onScroll)),this.data.tip&&"function"==typeof jQuery.fn.tooltip&&(h="top",this.sharer.element.hasClass("awe-share-pin-left")&&(h="right"),this.sharer.element.hasClass("awe-share-pin-right")&&(h="left"),"string"==typeof this.data.tip&&(h=this.data.tip),f=this.sharer.element.attr("id"),j=" a",jQuery("#"+f).tooltip({selector:"a",placement:h})),i=this.adapters;for(g in i)d=i[g],this.render(g,d)}return a.prototype.sharer={},a.prototype.data={},a.prototype.adapters={},a.prototype.empty="",a.prototype.window=null,a.prototype.onScroll=function(){var a;a=this.window.scrollTop(),a+this.data.pinScroll<this.data.pinTop?this.sharer.element.css({top:this.data.pinTop-a}):this.sharer.element.css({top:this.data.pinScroll})},a.prototype.render=function(a,b){var c,d,e,f,g;return g=this.sharer.windows[a],c=this.sharer.camelize(a),e=Maslosoft.AweShare.Adapters[c].label,f=jQuery('<a href="'+g.url+'" data-service="'+a+'" class="awe-share-brand-'+a+'" title="'+e+"\">\n	<i class='fa fa-2x fa-"+a+"'></i>\n</a>"),this.sharer.element.append(f),this.data.counter?(f.append('<span class="awe-share-counter">'+this.empty+"</span>"),d=new Maslosoft.AweShare.Counter(a,b,this.setCounter),d.count()):void 0},a.prototype.humanize=function(a){var b,c,d;if(a=parseInt(a),b=1e3,Math.abs(a)<b)return a;for(d=["k","m","g"],c=-1;;)if(a/=b,++c,!(Math.abs(a)>=b&&c<d.length-1))break;return a.toFixed()+d[c]},a.prototype.setCounter=function(a,b){return b=this.humanize(b),0===b&&(b=this.empty),this.sharer.element.find("a[data-service="+a+"]").find(".awe-share-counter").html(b)},a}(),this.Maslosoft.AweShare.Window=function(){function a(a){this.open=e(this.open,this),this.title=a.title,this.description=a.description}return a.prototype.name="maslosoft-awe-share",a.prototype.menubar=0,a.prototype.resizable=1,a.prototype.scrollbars=0,a.prototype.status=0,a.prototype.toolbar=0,a.prototype.top="",a.prototype.left="",a.prototype.width="",a.prototype.height="",a.prototype.url="",a.prototype.title="",a.prototype.description="",a.prototype.open=function(){var a,b,c,d,e,f,g,h;for(h=screen.width||window.outerWidth,a=screen.height||window.outerHeight,""===this.width&&(this.width=Math.ceil(h/2)),this.width=Math.min(this.width,h),""===this.height&&(this.height=Math.ceil(a/2)),this.height=Math.min(this.height,a),""===this.top&&(this.top=Math.ceil(a/2)-Math.ceil(this.height/2)),""===this.left&&(this.left=Math.ceil(h/2)-Math.ceil(this.width/2)),f=[],e=["menubar","resizable","scrollbars","status","toolbar","top","left","width","height"],b=0,c=e.length;c>b;b++)d=e[b],g=this[d],""!==g&&f.push(d+"="+g);return window.open(this.url,this.name,f.join(","))},a}(),this.Maslosoft.AweShare.Adapters.Delicious=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Save to Delicious",b.prototype.count=function(a){return $.getJSON("http://feeds.delicious.com/v2/json/urlinfo/data?url="+this.url+"&callback=?",function(b){return function(b){var c;return c=b[0]?b[0].total_posts:0,a(c)}}(this)).fail(function(){return a(0)})},b.prototype.decorate=function(a){return a.url="http://delicious.com/save?url="+this.url+"&title="+a.title+"&note="+a.description,a.width=710,a.height=660},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Digg=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Submit to Digg",b.prototype.count=function(a){return $.getJSON("http://services.digg.com/1.0/endpoint?method=story.getAll&link="+this.url+"&type=javascript&callback=?",function(b){return function(b){var c;return c=0,b.stories&&b.stories[0]&&b.stories[0].diggs&&(c=b.stories[0].diggs),a(c)}}(this)).fail(function(){return a(0)})},b.prototype.decorate=function(a){return a.url="http://digg.com/submit?url="+this.url,a.width=600,a.height=500},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Facebook=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Share on Facebook",b.prototype.count=function(a){return $.getJSON("http://graph.facebook.com/?callback=?&ids="+this.url,function(b){return function(c){var d;return c[b.url]||(c[b.url]={}),d=c[b.url].shares||0,a(d)}}(this)).fail(function(){return a(0)})},b.prototype.decorate=function(a){return a.url="http://www.facebook.com/sharer.php?m2w&s=100&p[url]="+this.url+"&p[title]="+a.title+"&p[summary]="+a.description+"&p[images][0]="+this.image,a.width=550,a.height=359},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.GooglePlus=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Share on Google+",b.prototype.count=function(a){return window.services||(window.services={}),window.services.gplus||(window.services.gplus={}),window.services.gplus.cb=function(b){return function(b){return a(b)}}(this),$.getScript("http://share.yandex.ru/gpp.xml?url="+this.url).fail(function(){return a(0)})},b.prototype.decorate=function(a){return a.url="https://plus.google.com/share?url="+this.url,a.width=490,a.height=460},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Linkedin=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Share on Linkedin",b.prototype.count=function(a){return $.getJSON("http://www.linkedin.com/countserv/count/share?callback=?&url="+this.url,function(b){return function(b){var c;return c=b.count,a(c)}}(this)).fail(function(){return a(0)})},b.prototype.decorate=function(a){return a.url="http://www.linkedin.com/shareArticle?mini=true&url="+this.url+"&title="+a.title,a.width=600,a.height=600},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Odnoklassniki=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Share on Odnoklassniki.ru",b.prototype.count=function(a){return $.getScript("http://www.odnoklassniki.ru/dk?st.cmd=extLike&ref="+this.url).fail(function(){return a(0)}),window.ODKL||(window.ODKL={}),window.ODKL.updateCount=function(b){return function(b,c){return a(c)}}(this)},b.prototype.decorate=function(a){return a.url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st._surl="+this.url+"&title="+a.title,a.width=600,a.height=500},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Pinterest=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Pin It",b.prototype.count=function(a){return $.getJSON("http://api.pinterest.com/v1/urls/count.json?callback=?&url="+this.url,function(b){var c;return c=b.count,a(c)}).fail(function(){return a(0)})},b.prototype.decorate=function(a){return a.url="http://pinterest.com/pin/create/button/?url="+this.url+"&media="+this.image+"&description="+a.title,a.width=770,a.height=760},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Reddit=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Share on Reddit",b.prototype.decorate=function(a){return a.url="http://reddit.com/submit?url="+this.url+"&title="+a.title,a.width=600,a.height=500},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Tumblr=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Share on Tumblr",b.prototype.decorate=function(a){return a.url="http://www.tumblr.com/share?v=3&u="+this.url+"&t="+a.title+"&s="+a.description,a.width=600,a.height=500},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Twitter=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Tweet It",b.prototype.count=function(a){return $.getJSON("http://urls.api.twitter.com/1/urls/count.json?&url="+this.url+"&callback=?",function(b){var c;return c=b.count,a(c)}).fail(function(){return a(0)})},b.prototype.decorate=function(a){var b;return b=encodeURIComponent(a.title),a.url="https://twitter.com/intent/tweet?text="+b+"&url="+this.url,a.width=480,a.height=280},b}(this.Maslosoft.AweShare.Adapter),this.Maslosoft.AweShare.Adapters.Vk=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.label="Share on VK",b.prototype.count=function(a){return $.getScript("http://vk.com/share.php?act=count&index=&url="+this.url).fail(function(){return a(0)}),window.VK||(window.VK={}),window.VK.Share={count:function(b){return function(b,c){return a(c)}}(this)}},b.prototype.decorate=function(a){return a.url="http://vk.com/share.php?url="+this.url+"&title="+a.title+"&image="+this.image+"&description="+a.description,a.width=655,a.height=429},b}(this.Maslosoft.AweShare.Adapter),jQuery(document).ready(function(){return Maslosoft.AweShare.init()})}).call(this);